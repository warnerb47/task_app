<div class="task-list">
    @if(todos$ | withLoading | async; as obs) {
        @if(obs.data) {
            @for (todo of obs.data; track todo) {
                <app-task [todo]="todo" (onDelete)="deleteTodo($event)"/>
            } @empty {
                <div class="info">No tasks</div>
            }
        } @else if(obs.loading) {
            <div class="info">loading ...</div>
        } @else if(obs.error) {
            <div class="info">error</div>
        }
    }
</div>

<app-confirm-dialog [hidden]="hideDialog" (handleDelete)="handleDelete($event)" #dialog/>
